<mat-form-field class="example-form-field">
    <input
        placeholder="Write the city, country..."
        matInput
        type="text"
        name="location"
        [ngModel]="locationSearch"
        (ngModelChange)="filterLocations($event)"
        [matAutocomplete]="auto"
        [formControl]="searchForm"
        (blur)="onBlur()"
    />
    <mat-autocomplete
        autoActiveFirstOption
        #auto="matAutocomplete"
        [displayWith]="displayLocationFn"
        (optionSelected)="locationSelectedEvent($event)"
    >
        <mat-option *ngFor="let location of locations" [value]="location">
            {{ location.name }}
        </mat-option>
    </mat-autocomplete>
    <mat-error *ngIf="searchForm.invalid">{{ searchForm.errors.cityNotExists }}</mat-error>
</mat-form-field>

{{ locationSelected | json }}
